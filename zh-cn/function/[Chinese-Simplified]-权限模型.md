## Role Control

新用户通过提交注册信息，待链管理员审核通过后，成为平台用户。用户可以通过用户地址和用户名称两种查询条件，来查询用户信息是否合法，更新用户信息。同时管理员可以完成禁用和激活用户，以及删除用户等操作。

平台用户可以申请不同的角色，待链管理员审核通过后，被授予对应的角色，并拥有相应的权限。用户可以通过角色管理合约来查询角色，通过用户地址和用户名称两种查询条件查询用户角色信息，是否有某个角色，系统中某个角色的地址。

PlatONE中的权限都是对系统中的用户分配的，用户的角色即表示用户的权限，目前用户可以分配如下角色（权限）。

<img src="zh-cn/basics/images/permission_roles.png"></img>

每个角色的权限范围如下表所示

<img src="zh-cn/basics/images/permission_table.png"></img>


## Node Management
为了保证区块链的安全性，PlatONE对节点的加入与退出等节点多方面操作进行了相应的管理。节点管理功能实现基于**nodeManager系统合约**，在此合约中引入了两种节点类型和两种节点状态以及节点的更新等等功能。

### 节点类型

#### 观察者节点

观察者节点职责：

* 负责同步区块但并不参与投票出块。 

系统中，将会一直存在几个稳定的观察者节点。 用于其他节点连接，从而进行稳定的同步区块。 新节点启动时，使用bootnodes参数指定**稳点的观察者节点**进行连接，连接成功之后，则可正常同步区块。 稳定的观察者节点设置在genesis.json的suggestObserverNodes中，在链启动之后，需要将所设置的稳定的观察者节点添加到节点管理系统合约中。

#### 共识节点

共识节点职责：

* 参与投票出块，以及同步区块。

在PlatONE刚启动之际，系统合约还并未部署，此时网络中的共识节点将会由genesis.json中validatorNodes中指定的第一个节点来承担。 由此节点进行共识出块。直到PlatONE部署完系统合约，并且成功的在节点管理合约中指定了新的共识节点之后，由合约中指定的多个共识节点进行相互投票和出块。

### 节点状态

节点状态可以使用节点管理系统合约的相应的API进行设置和更改。

#### 删除状态

删除状态下的节点无法连接其他节点，也无法被其他节点进行连接。 删除状态下的节点将会永久的停留在删除状态，不允许恢复。

#### 正常状态

正常状态下的节点，可以主动连接其他节点，也可以被其他正常状态下的节点进行连接。

### 节点启动

节点启动时，除了指定PlatONE常规参数外，还需要指定`--bootnodes`，bootnodes指定范围建议是稳定的观察者节点。 可以在genesis.json中suggestObserverNodes中查看到所有的稳定观察者节点。

### 节点连接

节点A启动后，会主动连接`--bootnodes`指定的节点B，而在节点B中，会检查节点A是否在存在于节点管理合约中，并且节点状态为正常状态。只有检查通过，此时节点B才会接受节点A的连接请求。 当节点成功连接之后，就可以进行同步区块等操作。

### 节点更新

节点管理合约提供相应的节点更新操作。可以按需更改合约中已添加的节点的状态，类型等节点信息。

## Contract Firewall

合约防火墙主要实现了对防火墙白名单和黑名单的管理功能，使得合约的部署者可以设置合约的防火墙规则，以控制合约方法的调用权限，允许特定的用户调用合约的指定方法，在提高用户体验的同时又有效地提高了安全性能。
